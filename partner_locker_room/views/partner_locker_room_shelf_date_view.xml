<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="partner_locker_room_shelf_date_view_tree" model="ir.ui.view">
        <field name="model">partner.locker.room.shelf.date</field>
        <field name="arch" type="xml">
            <tree>
                <field name="company_id" />
                <field name="locker_room_id" />
                <field name="shelf_number" />
                <field name="assigned_date" />
                <field name="finished_date" />
                <field name="partner_id" />
                <field name="partner_reference" />
            </tree>
        </field>
    </record>
    <record id="partner_locker_room_shelf_date_view_search" model="ir.ui.view">
        <field name="model">partner.locker.room.shelf.date</field>
        <field name="arch" type="xml">
            <search>
                <field name="company_id" />
                <field name="partner_id" />
                <field name="partner_reference" />
                <field name="locker_room_id" />
                <field name="shelf_number" />
                <field name="assigned_date" />
                <field name="finished_date" />
                <group expand="0" string="Group By">
                   <filter string="Company" name="group-company" domain="[]" context="{'group_by':'company_id'}"/>
                   <filter string="Employee" name="group-employee" domain="[]" context="{'group_by':'partner_id'}"/>
                   <filter string="Locker room" name="group-locker-room" domain="[]" context="{'group_by':'locker_room_id'}"/>
                </group>
            </search>
        </field>
    </record>
    <record id="partner_locker_room_shelf_date_view_form" model="ir.ui.view">
        <field name="model">partner.locker.room.shelf.date</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group name="group1" colspan="4">
                        <group>
                            <field name="company_id" required="1"
                                domain="[('valid_for_locker_room','=',True)]"/>
                            <field name="partner_id" required="1"
                                domain="[('company_type','=','person'),('type','!=','delivery'),('parent_id','=',company_id)]"/>
                            <field name="locker_room_id" required="1"
                                domain="[('partner_id','=',company_id)]"/>
                            <field name="partner_reference" readonly="1"/>
                        </group>
                        <group>
                            <field name="shelf_number" required="1"/>
                            <field name="assigned_date" required="1"/>
                            <field name="finished_date" />
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <record model="ir.actions.act_window" id="action_partner_locker_room_shelf_date">
        <field name="name">Shelves dates</field>
        <field name="res_model">partner.locker.room.shelf.date</field>
        <field name="view_type">form</field>
        <field name="view_mode">form,tree</field>
        <field name="view_id" ref="partner_locker_room_shelf_date_view_tree" />
    </record>
    <menuitem id="partner_locker_room_shelf_Date_group_view" name="Shelves dates"
            action="action_partner_locker_room_shelf_date"
            parent="locker_room_menuitem"/>
</odoo>
