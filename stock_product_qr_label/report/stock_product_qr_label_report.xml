<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="stock_product_qr_label_document">
        <t t-call="stock_product_qr_label.external_layout_quant_product_label">
            <div
        class="page"
        style="font-size: 19px; font-family: ubuntu condensed; padding-top: 5px;  margin-right: -10px; margin-left: -10px; margin-bottom: -10px;"
      >
                <div class="row">
                    <div class="col-6">
                        <b><span
                t-field="doc.product_id.default_code"
                style="text-align: left;"
              /></b>
                    </div>
                    <div class="col-6" style="text-align: right;">
                        <b><span
                t-field="doc.create_date"
                t-options='{"widget": "date"}'
              /></b>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                      <b><span t-esc="doc.product_id.name_for_labels" /></b>
                    </div>
                </div>
                <div class="row">
                    <div class="col-8">
                        <b>
                            <span>Lot.: </span>
                            <span t-field="doc.lot_id.name" />
                            <br />
                            <span>Bin: </span>
                            <span t-field="doc.lot_id.ref" />
                            <br />
                            <span>Loc.: </span>
                            <span t-field="doc.location_id.name" />
                            <br />
                            <span>Qty.: </span>
                            <span t-esc="int(doc.quantity)" />
                        </b>
                    </div>
                    <div class="col-4">
                        <img
              t-att-src="'/report/barcode/?barcode_type=%s&amp;value=%s&amp;width=%s&amp;height=%s'%('QR', doc.qr_code, 115, 115)"
              style="margin-left: -30px;"
            />
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="report_stock_product_qr_label">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t
          t-call="stock_product_qr_label.stock_product_qr_label_document"
          t-lang="doc.company_id.partner_id.lang"
        />
            </t>
        </t>
    </template>

    <record id="action_stock_product_qr_label_report" model="ir.actions.report">
        <field name="name">Product QR Label</field>
        <field name="model">stock.quant</field>
        <field name="report_type">qweb-pdf</field>
        <field
      name="report_name"
    >stock_product_qr_label.report_stock_product_qr_label</field>
        <field
      name="report_file"
    >stock_product_qr_label.report_stock_product_qr_label</field>
        <field
      name="print_report_name"
    >('QR Label For Product - %s' % (object.product_id.name))</field>
        <field name="binding_model_id" ref="stock.model_stock_quant" />
        <field name="binding_type">report</field>
        <field
      name="paperformat_id"
      ref="stock_product_qr_label.paperformat_product_qr_label"
    />
    </record>
</odoo>
