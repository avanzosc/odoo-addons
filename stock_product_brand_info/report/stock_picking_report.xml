<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="report_delivery_document" inherit_id="stock.report_delivery_document">
        <th name="th_sm_product" position="after">
            <th name="th_sm_fabricator" t-if="o.picking_type_id.code == 'incoming'">
                <strong>Fabricator</strong>
            </th>
            <th name="th_sm_brand_code" t-if="o.picking_type_id.code == 'incoming'">
                <strong>Brand Code</strong>
            </th>
        </th>
        <xpath expr="//span[@t-field='move.product_id']/.." position="after">
            <td name="td_sm_fabricator" t-if="o.picking_type_id.code == 'incoming'">
                <span t-field="move.brand_fabricators" />
            </td>
            <td name="td_sm_brand_code" t-if="o.picking_type_id.code == 'incoming'">
                <span t-field="move.product_brand_code" />
            </td>
        </xpath>
        <th name="th_sml_product" position="after">
            <th name="th_sml_fabricator" t-if="o.picking_type_id.code == 'incoming'">
                <strong>Fabricator</strong>
            </th>
            <th name="th_sml_brand_code" t-if="o.picking_type_id.code == 'incoming'">
                <strong>Brand Code</strong>
            </th>
        </th>
        <th name="th_sb_product" position="after">
            <th name="th_sb_fabricator" t-if="o.picking_type_id.code == 'incoming'">
                <strong>Fabricator</strong>
            </th>
            <th name="th_sb_brand_code" t-if="o.picking_type_id.code == 'incoming'">
                <strong>Brand Code</strong>
            </th>
        </th>
        <xpath expr="//span[@t-field='bo_line.product_id']/.." position="after">
            <td t-if="o.picking_type_id.code == 'incoming'">
                <span t-field="bo_line.brand_fabricators" />
            </td>
            <td t-if="o.picking_type_id.code == 'incoming'">
                <span t-field="bo_line.product_brand_code" />
            </td>
        </xpath>
    </template>

    <template
    id="stock_report_delivery_has_serial_move_line"
    inherit_id="stock.stock_report_delivery_has_serial_move_line"
  >
        <t name="move_line_lot" position="before">
            <td t-if="o.picking_type_id.code == 'incoming'">
                <span t-field="move_line.brand_fabricators" />
            </td>
            <td t-if="o.picking_type_id.code == 'incoming'">
                <span t-field="move_line.product_brand_code" />
            </td>
        </t>
    </template>

    <template
    id="stock_report_delivery_aggregated_move_lines"
    inherit_id="stock.stock_report_delivery_aggregated_move_lines"
  >
        <xpath expr="//td[1]" position="after">
            <td t-if="o.picking_type_id.code == 'incoming'">
                <span t-esc="aggregated_lines[line]['fabricator']" />
            </td>
            <td t-if="o.picking_type_id.code == 'incoming'">
                <span t-esc="aggregated_lines[line]['brand_code']" />
            </td>
        </xpath>
    </template>
</odoo>
