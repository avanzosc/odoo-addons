<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="assets_frontend" inherit_id="website.assets_frontend">
        <xpath expr=".">
            <script type="text/javascript" src="/website_custom_saca/static/src/js/script.js"/>
        	<link rel='stylesheet' href='/website_custom_saca/static/src/css/style.css'/>
        </xpath>
    </template>
    <template id="report_assets_common" inherit_id="web.report_assets_common">
        <xpath expr=".">
        	<link rel='stylesheet' href='/website_custom_saca/static/src/css/style.css'/>
        </xpath>
    </template>
    <template id="portal_my_saca_lines_home" inherit_id="portal.portal_my_home">
        <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">
            <t t-call="portal.portal_docs_entry">
                <t t-set="title">My saca lines for today</t>
                <t t-set="url" t-value="'/my/saca/lines?today=true'"/>
                <t t-set="placeholder_count" t-value="'saca_lines_count_today'"/>
            </t>
            <t t-call="portal.portal_docs_entry">
                <t t-set="title">My saca lines</t>
                <t t-set="url" t-value="'/my/saca/lines/all'"/>
                <t t-set="placeholder_count" t-value="'saca_lines_count'"/>
            </t>
        </xpath>
    </template>
    <template id="portal_my_home_menu_saca" name="Portal layout : saca menu entries" inherit_id="portal.portal_breadcrumbs" priority="20">
        <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside">
            <li t-if="page_name in ['saca', 'saca_line']" t-attf-class="breadcrumb-item #{'active ' if not sacas else ''}">
                <a t-if="not sacas" t-attf-href="/my/saca/lines?{{ keep_query() }}">My sacas</a>
                <t t-else="">My sacas</t>
            </li>
            <li t-if="saca_line" class="breadcrumb-item active">
                <t t-esc="saca_line.name"/>
            </li>
        </xpath>
    </template>
    <template id="portal_my_saca_lines" name="My saca lines">
        <t t-call="portal.portal_layout">
            <t t-call="portal.portal_searchbar">
                <t t-set="title">My Saca Lines</t>
            </t>
            <t t-if="not saca_lines">
                <p>There are currently no saca lines for your account.</p>
            </t>
            <t t-else="">
                <div class="container p-0">
                    <h1 class="h3 mb-3">Saca Lines</h1>
                    <div class="row">
                        <div t-foreach="sacas" t-as="saca" t-att-class="'col-12' if today else 'col-12 col-lg-6 col-xl-4'">
                            <div class="card card-border-primary">
                                <div class="card-header">
                                    <h5 class="card-title">SACA <t t-esc="saca.name"/></h5>
                                    <h6 class="card-subtitle text-muted"><t t-esc="saca.date"/></h6>
                                </div>
                                <div class="card-body p-3">
                                    <div t-foreach="saca_lines.filtered(lambda l: l.saca_id.id == saca.id)" t-as="saca_line" class="card mb-3 bg-light">
                                        <div class="card-body p-3">
                                            <div class="float-right mr-n2">
                                                <a t-att-href="'/my/saca/line/%s' % saca_line.id" class="btn btn-outline-primary btn-sm">
                                                    Edit <t t-esc="saca_line.name"/>
                                                </a>
                                            </div>
                                            <div class="row">
                                                <div class="col-12">
                                                    <div><small><b>Granja:</b> <t t-if="saca_line.farm_warehouse_id" t-esc="saca_line.farm_warehouse_id.name"/></small></div>
                                                    <div><small><b>Street:</b> <t t-esc="saca_line.street"/></small></div>
                                                    <div t-if="saca_line.phone"><small><b>Phone:</b> <t t-esc="saca_line.phone"/></small></div>
                                                    <div t-if="saca_line.mobile"><small><b>Mobile:</b> <t t-esc="saca_line.mobile"/></small></div>
                                                    <div><small><b>Lote:</b> <t t-if="saca_line.lot" t-esc="saca_line.lot"/></small></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </t>
        </t>
    </template>
    <template id="portal_saca_line" name="Saca line">
        <t t-call="portal.portal_layout">
            <t t-set="breadcrumbs_searchbar" t-value="True"/>
            <t t-call="portal.portal_searchbar">
                <t t-set="title">Line ID</t>
            </t>
            <div class="container p-0">
                <div class="row">
                    <div class="col-12">
                        <form>
                            <div class="card card-border-primary">
                                <div class="card-header">
                                    <div class="card-actions float-right">
                                        <a t-if="prev_saca_line_id" t-att-href="'/my/saca/line/%s' % prev_saca_line_id" id="btn_prev" class="button"><i class="fa fa-caret-square-o-left"/></a>
                                        <a t-if="next_saca_line_id" t-att-href="'/my/saca/line/%s' % next_saca_line_id" id="btn_next" class="button"><i class="fa fa-caret-square-o-right"/></a>
                                        <a target="_blank" t-att-href="'/saca/line/print/%s' % saca_line.id" class="button btn btn-secondary"><i class="fa fa-download"/></a>
                                    </div>
                                    <h5 class="card-title">SACA LINE <t t-esc="saca_line.name"/></h5>
                                    <h6 class="card-subtitle text-muted mb-3"><t t-esc="saca_line.date"/></h6>
                                    <h6 class="card-subtitle text-muted">Edit saca form</h6>
                                </div>
                                <div class="card-body p-3">
                                    <div class="card mb-3 bg-light">
                                        <div class="card-body p-3">
                                            <div class="row">
                                                <div class="col-12 card-actions">
                                                    <button type="button" id="btn_saca_edit" class="btn btn-secondary float-right"><i class="fa fa-edit"/></button>
                                                    <button style="display:none;" id="btn_saca_save" class="btn btn-secondary float-right"><i class="fa fa-save"/></button>
                                                </div>
                                                <div class="col-12 col-lg-6">
                                                    <h5><b>General info</b></h5>
                                                    <div><b>Date:</b> <t t-esc="saca_line.date"/></div>
                                                    <div><b>Lot:</b> <t t-esc="saca_line.lot"/></div>
                                                    <div><b>Breeding:</b> <t t-if="saca_line.breeding_id" t-esc="saca_line.breeding_id.name"/></div>
                                                    <div><b>Product:</b> <t t-if="saca_line.product_id" t-esc="saca_line.product_id.name"/></div>
                                                </div>
                                                <div class="col-12 col-lg-6">
                                                    <h5><b>Farm info</b></h5>
                                                    <div><b>Farmer:</b> <t t-if="saca_line.farm_warehouse_id" t-esc="saca_line.farm_warehouse_id.name"/></div>
                                                    <div><b>Street:</b> <t t-esc="saca_line.street"/></div>
                                                    <div><b>City:</b> <t t-esc="saca_line.city"/></div>
                                                    <div><b>Phone:</b> <t t-esc="saca_line.phone"/></div>
                                                    <div><b>Mobile:</b> <t t-esc="saca_line.mobile"/></div>
                                                    <div><b>Nave:</b> <t t-esc="saca_line.date"/></div>
                                                    <div><b>Bascula:</b> <t t-esc="saca_line.date"/></div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-12 col-lg-6 col-xl-3">
                                                    <h5><b>Drive info</b></h5>
                                                    <div><b>Driver:</b> <t t-if="saca_line.driver_id" t-esc="saca_line.driver_id.name"/></div>
                                                    <div><b>Trailer:</b> <t t-if="saca_line.remolque_id" t-esc="saca_line.remolque_id.name"/></div>
                                                    <div><b>Vehicle:</b> <t t-if="saca_line.vehicle_id" t-esc="saca_line.vehicle_id.name"/></div>
                                                </div>
                                            </div>
                                            <hr/>
                                            <div class="col-12">
                                                <h5><b>Weight table</b></h5>
                                                <table class="col-12 weight_table">
                                                    <thead>
                                                        <tr>
                                                            <th/>
                                                            <th>Peso Granja</th>
                                                            <th>Peso Matadero</th>
                                                            <th>Peso Previsto</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <th>Bruto</th>
                                                            <td>
                                                                <span class="info_span"><t t-esc="saca_line.gross_origin"/></span>
                                                                <input class="weight_input" name="gross_origin" t-att-value="saca_line.gross_origin" style="display:none;"/>
                                                            </td>
                                                            <td>
                                                                <span class="info_span"><t t-esc="saca_line.gross_dest"/></span>
                                                                <input class="weight_input" name="gross_dest" t-att-value="saca_line.gross_dest" style="display:none;"/>
                                                            </td>
                                                            <td>
                                                                <span class="info_span"><t t-esc="saca_line.dif_gross"/></span>
                                                                <input class="weight_input" name="dif_gross" t-att-value="saca_line.dif_gross" style="display:none;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>Tara</th>
                                                            <td>
                                                                <span class="info_span"><t t-esc="saca_line.tara_origin"/></span>
                                                                <input class="weight_input" name="tara_origin" t-att-value="saca_line.tara_origin" style="display:none;"/>
                                                            </td>
                                                            <td>
                                                                <span class="info_span"><t t-esc="saca_line.tara_dest"/></span>
                                                                <input class="weight_input" name="tara_dest" t-att-value="saca_line.tara_dest" style="display:none;"/>
                                                            </td>
                                                            <td>
                                                                <span class="info_span"><t t-esc="saca_line.dif_tara"/></span>
                                                                <input class="weight_input" name="dif_tara" t-att-value="saca_line.dif_tara" style="display:none;"/>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <th>Neto</th>
                                                            <td>
                                                                <span class="info_span"><t t-esc="saca_line.net_origin"/></span>
                                                                <input class="weight_input" name="net_origin" t-att-value="saca_line.net_origin" style="display:none;"/>
                                                            </td>
                                                            <td>
                                                                <span class="info_span"><t t-esc="saca_line.net_dest"/></span>
                                                                <input class="weight_input" name="net_dest" t-att-value="saca_line.net_dest" style="display:none;"/>
                                                            </td>
                                                            <td>
                                                                <span class="info_span"><t t-esc="saca_line.dif_net"/></span>
                                                                <input class="weight_input" name="dif_net" t-att-value="saca_line.dif_net" style="display:none;"/>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>